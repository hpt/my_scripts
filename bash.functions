#!/bin/bash

# echo a message about which command failed and exit when a 
# simple command being failed.
#trap 'cmd=${BASH_COMMAND:-"some command"};echo "Command failed: $cmd";exit 1' ERR
trap 'echo "Command failed: $BASH_COMMAND";exit 1' ERR

# tesing
[ ! -e "/no/such/file" ] && ls /no/such/file || echo "No such file."
[ ! -e "/no/such/file" ] && echo "will run a cmd that would fail." && ls /no/such/file
#[ ! -e "/no/such/file" ] && ls /no/such/file
